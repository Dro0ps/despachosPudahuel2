import{r as s}from"./react.d3c4e055.js";import{r as k}from"./react-fast-compare.28c49cfe.js";import{d as ee}from"./deepmerge.39b49f80.js";import{i as ye,t as Se,c as Te}from"./lodash-es.16147c0a.js";import{w as we}from"./tiny-warning.49191a0e.js";import"./hoist-non-react-statics.0db3c983.js";function y(){return y=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},y.apply(this,arguments)}function B(r,t){if(r==null)return{};var n={},i=Object.keys(r),u,d;for(d=0;d<i.length;d++)u=i[d],!(t.indexOf(u)>=0)&&(n[u]=r[u]);return n}var b=function(t){return typeof t=="function"},W=function(t){return t!==null&&typeof t=="object"},Ue=function(t){return String(Math.floor(Number(t)))===t},re=function(t){return Object.prototype.toString.call(t)==="[object String]"},Be=function(t){return s.exports.Children.count(t)===0},te=function(t){return W(t)&&b(t.then)};function R(r,t,n,i){i===void 0&&(i=0);for(var u=Se(t);r&&i<u.length;)r=r[u[i++]];return r===void 0?n:r}function O(r,t,n){for(var i=Te(r),u=i,d=0,v=Se(t);d<v.length-1;d++){var m=v[d],A=R(r,v.slice(0,d+1));if(A&&(W(A)||Array.isArray(A)))u=u[m]=Te(A);else{var S=v[d+1];u=u[m]=Ue(S)&&Number(S)>=0?[]:{}}}return(d===0?r:u)[v[d]]===n?r:(n===void 0?delete u[v[d]]:u[v[d]]=n,d===0&&n===void 0&&delete i[v[d]],i)}function ge(r,t,n,i){n===void 0&&(n=new WeakMap),i===void 0&&(i={});for(var u=0,d=Object.keys(r);u<d.length;u++){var v=d[u],m=r[v];W(m)?n.get(m)||(n.set(m,!0),i[v]=Array.isArray(m)?[]:{},ge(m,t,n,i[v])):i[v]=t}return i}var K=s.exports.createContext(void 0);K.displayName="FormikContext";var Ne=K.Provider;K.Consumer;function Fe(){var r=s.exports.useContext(K);return r||we(!1),r}function He(r,t){switch(t.type){case"SET_VALUES":return y({},r,{values:t.payload});case"SET_TOUCHED":return y({},r,{touched:t.payload});case"SET_ERRORS":return k(r.errors,t.payload)?r:y({},r,{errors:t.payload});case"SET_STATUS":return y({},r,{status:t.payload});case"SET_ISSUBMITTING":return y({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return y({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return y({},r,{values:O(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return y({},r,{touched:O(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return y({},r,{errors:O(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return y({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return y({},r,{touched:ge(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return y({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return y({},r,{isSubmitting:!1});default:return r}}var D={},$={};function Pe(r){var t=r.validateOnChange,n=t===void 0?!0:t,i=r.validateOnBlur,u=i===void 0?!0:i,d=r.validateOnMount,v=d===void 0?!1:d,m=r.isInitialValid,A=r.enableReinitialize,S=A===void 0?!1:A,N=r.onSubmit,P=B(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),c=y({validateOnChange:n,validateOnBlur:u,validateOnMount:v,onSubmit:N},P),F=s.exports.useRef(c.initialValues),x=s.exports.useRef(c.initialErrors||D),L=s.exports.useRef(c.initialTouched||$),_=s.exports.useRef(c.initialStatus),g=s.exports.useRef(!1),V=s.exports.useRef({});s.exports.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var j=s.exports.useReducer(He,{values:c.initialValues,errors:c.initialErrors||D,touched:c.initialTouched||$,status:c.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=j[0],h=j[1],ne=s.exports.useCallback(function(e,a){return new Promise(function(o,l){var f=c.validate(e,a);f==null?o(D):te(f)?f.then(function(p){o(p||D)},function(p){l(p)}):o(f)})},[c.validate]),z=s.exports.useCallback(function(e,a){var o=c.validationSchema,l=b(o)?o(a):o,f=a&&l.validateAt?l.validateAt(a,e):Ge(e,l);return new Promise(function(p,T){f.then(function(){p(D)},function(M){M.name==="ValidationError"?p(je(M)):T(M)})})},[c.validationSchema]),ae=s.exports.useCallback(function(e,a){return new Promise(function(o){return o(V.current[e].validate(a))})},[]),ue=s.exports.useCallback(function(e){var a=Object.keys(V.current).filter(function(l){return b(V.current[l].validate)}),o=a.length>0?a.map(function(l){return ae(l,R(e,l))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(o).then(function(l){return l.reduce(function(f,p,T){return p==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||p&&(f=O(f,a[T],p)),f},{})})},[ae]),be=s.exports.useCallback(function(e){return Promise.all([ue(e),c.validationSchema?z(e):{},c.validate?ne(e):{}]).then(function(a){var o=a[0],l=a[1],f=a[2],p=ee.all([o,l,f],{arrayMerge:We});return p})},[c.validate,c.validationSchema,ue,ne,z]),C=I(function(e){return e===void 0&&(e=E.values),h({type:"SET_ISVALIDATING",payload:!0}),be(e).then(function(a){return g.current&&(h({type:"SET_ISVALIDATING",payload:!1}),h({type:"SET_ERRORS",payload:a})),a})});s.exports.useEffect(function(){v&&g.current===!0&&k(F.current,c.initialValues)&&C(F.current)},[v,C]);var H=s.exports.useCallback(function(e){var a=e&&e.values?e.values:F.current,o=e&&e.errors?e.errors:x.current?x.current:c.initialErrors||{},l=e&&e.touched?e.touched:L.current?L.current:c.initialTouched||{},f=e&&e.status?e.status:_.current?_.current:c.initialStatus;F.current=a,x.current=o,L.current=l,_.current=f;var p=function(){h({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:o,touched:l,status:f,values:a,isValidating:!!e&&!!e.isValidating,submitCount:!!e&&!!e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(c.onReset){var T=c.onReset(E.values,me);te(T)?T.then(p):p()}else p()},[c.initialErrors,c.initialStatus,c.initialTouched]);s.exports.useEffect(function(){g.current===!0&&!k(F.current,c.initialValues)&&(S&&(F.current=c.initialValues,H()),v&&C(F.current))},[S,c.initialValues,H,v,C]),s.exports.useEffect(function(){S&&g.current===!0&&!k(x.current,c.initialErrors)&&(x.current=c.initialErrors||D,h({type:"SET_ERRORS",payload:c.initialErrors||D}))},[S,c.initialErrors]),s.exports.useEffect(function(){S&&g.current===!0&&!k(L.current,c.initialTouched)&&(L.current=c.initialTouched||$,h({type:"SET_TOUCHED",payload:c.initialTouched||$}))},[S,c.initialTouched]),s.exports.useEffect(function(){S&&g.current===!0&&!k(_.current,c.initialStatus)&&(_.current=c.initialStatus,h({type:"SET_STATUS",payload:c.initialStatus}))},[S,c.initialStatus,c.initialTouched]);var oe=I(function(e){if(V.current[e]&&b(V.current[e].validate)){var a=R(E.values,e),o=V.current[e].validate(a);return te(o)?(h({type:"SET_ISVALIDATING",payload:!0}),o.then(function(l){return l}).then(function(l){h({type:"SET_FIELD_ERROR",payload:{field:e,value:l}}),h({type:"SET_ISVALIDATING",payload:!1})})):(h({type:"SET_FIELD_ERROR",payload:{field:e,value:o}}),Promise.resolve(o))}else if(c.validationSchema)return h({type:"SET_ISVALIDATING",payload:!0}),z(E.values,e).then(function(l){return l}).then(function(l){h({type:"SET_FIELD_ERROR",payload:{field:e,value:l[e]}}),h({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Re=s.exports.useCallback(function(e,a){var o=a.validate;V.current[e]={validate:o}},[]),Ie=s.exports.useCallback(function(e){delete V.current[e]},[]),le=I(function(e,a){h({type:"SET_TOUCHED",payload:e});var o=a===void 0?u:a;return o?C(E.values):Promise.resolve()}),se=s.exports.useCallback(function(e){h({type:"SET_ERRORS",payload:e})},[]),ce=I(function(e,a){var o=b(e)?e(E.values):e;h({type:"SET_VALUES",payload:o});var l=a===void 0?n:a;return l?C(o):Promise.resolve()}),G=s.exports.useCallback(function(e,a){h({type:"SET_FIELD_ERROR",payload:{field:e,value:a}})},[]),w=I(function(e,a,o){h({type:"SET_FIELD_VALUE",payload:{field:e,value:a}});var l=o===void 0?n:o;return l?C(O(E.values,e,a)):Promise.resolve()}),de=s.exports.useCallback(function(e,a){var o=a,l=e,f;if(!re(e)){e.persist&&e.persist();var p=e.target?e.target:e.currentTarget,T=p.type,M=p.name,X=p.id,Z=p.value,Oe=p.checked,qe=p.outerHTML,Ee=p.options,De=p.multiple;o=a||M||X,l=/number|range/.test(T)?(f=parseFloat(Z),isNaN(f)?"":f):/checkbox/.test(T)?$e(R(E.values,o),Oe,Z):Ee&&De?Ke(Ee):Z}o&&w(o,l)},[w,E.values]),Y=I(function(e){if(re(e))return function(a){return de(a,e)};de(e)}),U=I(function(e,a,o){a===void 0&&(a=!0),h({type:"SET_FIELD_TOUCHED",payload:{field:e,value:a}});var l=o===void 0?u:o;return l?C(E.values):Promise.resolve()}),fe=s.exports.useCallback(function(e,a){e.persist&&e.persist();var o=e.target,l=o.name,f=o.id,p=o.outerHTML,T=a||l||f;U(T,!0)},[U]),q=I(function(e){if(re(e))return function(a){return fe(a,e)};fe(e)}),ve=s.exports.useCallback(function(e){b(e)?h({type:"SET_FORMIK_STATE",payload:e}):h({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),pe=s.exports.useCallback(function(e){h({type:"SET_STATUS",payload:e})},[]),he=s.exports.useCallback(function(e){h({type:"SET_ISSUBMITTING",payload:e})},[]),J=I(function(){return h({type:"SUBMIT_ATTEMPT"}),C().then(function(e){var a=e instanceof Error,o=!a&&Object.keys(e).length===0;if(o){var l;try{if(l=Ce(),l===void 0)return}catch(f){throw f}return Promise.resolve(l).then(function(f){return g.current&&h({type:"SUBMIT_SUCCESS"}),f}).catch(function(f){if(g.current)throw h({type:"SUBMIT_FAILURE"}),f})}else if(g.current&&(h({type:"SUBMIT_FAILURE"}),a))throw e})}),Ae=I(function(e){e&&e.preventDefault&&b(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&b(e.stopPropagation)&&e.stopPropagation(),J().catch(function(a){console.warn("Warning: An unhandled error was caught from submitForm()",a)})}),me={resetForm:H,validateForm:C,validateField:oe,setErrors:se,setFieldError:G,setFieldTouched:U,setFieldValue:w,setStatus:pe,setSubmitting:he,setTouched:le,setValues:ce,setFormikState:ve,submitForm:J},Ce=I(function(){return N(E.values,me)}),xe=I(function(e){e&&e.preventDefault&&b(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&b(e.stopPropagation)&&e.stopPropagation(),H()}),Ve=s.exports.useCallback(function(e){return{value:R(E.values,e),error:R(E.errors,e),touched:!!R(E.touched,e),initialValue:R(F.current,e),initialTouched:!!R(L.current,e),initialError:R(x.current,e)}},[E.errors,E.touched,E.values]),Le=s.exports.useCallback(function(e){return{setValue:function(o,l){return w(e,o,l)},setTouched:function(o,l){return U(e,o,l)},setError:function(o){return G(e,o)}}},[w,U,G]),Me=s.exports.useCallback(function(e){var a=W(e),o=a?e.name:e,l=R(E.values,o),f={name:o,value:l,onChange:Y,onBlur:q};if(a){var p=e.type,T=e.value,M=e.as,X=e.multiple;p==="checkbox"?T===void 0?f.checked=!!l:(f.checked=!!(Array.isArray(l)&&~l.indexOf(T)),f.value=T):p==="radio"?(f.checked=l===T,f.value=T):M==="select"&&X&&(f.value=f.value||[],f.multiple=!0)}return f},[q,Y,E.values]),Q=s.exports.useMemo(function(){return!k(F.current,E.values)},[F.current,E.values]),_e=s.exports.useMemo(function(){return typeof m!="undefined"?Q?E.errors&&Object.keys(E.errors).length===0:m!==!1&&b(m)?m(c):m:E.errors&&Object.keys(E.errors).length===0},[m,Q,E.errors,c]),ke=y({},E,{initialValues:F.current,initialErrors:x.current,initialTouched:L.current,initialStatus:_.current,handleBlur:q,handleChange:Y,handleReset:xe,handleSubmit:Ae,resetForm:H,setErrors:se,setFormikState:ve,setFieldTouched:U,setFieldValue:w,setFieldError:G,setStatus:pe,setSubmitting:he,setTouched:le,setValues:ce,submitForm:J,validateForm:C,validateField:oe,isValid:_e,dirty:Q,unregisterField:Ie,registerField:Re,getFieldProps:Me,getFieldMeta:Ve,getFieldHelpers:Le,validateOnBlur:u,validateOnChange:n,validateOnMount:v});return ke}function tr(r){var t=Pe(r),n=r.component,i=r.children,u=r.render,d=r.innerRef;return s.exports.useImperativeHandle(d,function(){return t}),s.exports.createElement(Ne,{value:t},n?s.exports.createElement(n,t):u?u(t):i?b(i)?i(t):Be(i)?null:s.exports.Children.only(i):null)}function je(r){var t={};if(r.inner){if(r.inner.length===0)return O(t,r.path,r.message);for(var n=r.inner,i=Array.isArray(n),u=0,n=i?n:n[Symbol.iterator]();;){var d;if(i){if(u>=n.length)break;d=n[u++]}else{if(u=n.next(),u.done)break;d=u.value}var v=d;R(t,v.path)||(t=O(t,v.path,v.message))}}return t}function Ge(r,t,n,i){n===void 0&&(n=!1),i===void 0&&(i={});var u=ie(r);return t[n?"validateSync":"validate"](u,{abortEarly:!1,context:i})}function ie(r){var t=Array.isArray(r)?[]:{};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=String(n);Array.isArray(r[i])===!0?t[i]=r[i].map(function(u){return Array.isArray(u)===!0||ye(u)?ie(u):u!==""?u:void 0}):ye(r[i])?t[i]=ie(r[i]):t[i]=r[i]!==""?r[i]:void 0}return t}function We(r,t,n){var i=r.slice();return t.forEach(function(d,v){if(typeof i[v]=="undefined"){var m=n.clone!==!1,A=m&&n.isMergeableObject(d);i[v]=A?ee(Array.isArray(d)?[]:{},d,n):d}else n.isMergeableObject(d)?i[v]=ee(r[v],d,n):r.indexOf(d)===-1&&i.push(d)}),i}function Ke(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function $e(r,t,n){if(typeof r=="boolean")return Boolean(t);var i=[],u=!1,d=-1;if(Array.isArray(r))i=r,d=r.indexOf(n),u=d>=0;else if(!n||n=="true"||n=="false")return Boolean(t);return t&&n&&!u?i.concat(n):u?i.slice(0,d).concat(i.slice(d+1)):i}var ze=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?s.exports.useLayoutEffect:s.exports.useEffect;function I(r){var t=s.exports.useRef(r);return ze(function(){t.current=r}),s.exports.useCallback(function(){for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t.current.apply(void 0,i)},[])}function ir(r){var t=r.validate,n=r.name,i=r.render,u=r.children,d=r.as,v=r.component,m=B(r,["validate","name","render","children","as","component"]),A=Fe(),S=B(A,["validate","validationSchema"]),N=S.registerField,P=S.unregisterField;s.exports.useEffect(function(){return N(n,{validate:t}),function(){P(n)}},[N,P,n,t]);var c=S.getFieldProps(y({name:n},m)),F=S.getFieldMeta(n),x={field:c,form:S};if(i)return i(y({},x,{meta:F}));if(b(u))return u(y({},x,{meta:F}));if(v){if(typeof v=="string"){var L=m.innerRef,_=B(m,["innerRef"]);return s.exports.createElement(v,y({ref:L},c,_),u)}return s.exports.createElement(v,y({field:c,form:S},m),u)}var g=d||"input";if(typeof g=="string"){var V=m.innerRef,j=B(m,["innerRef"]);return s.exports.createElement(g,y({ref:V},c,j),u)}return s.exports.createElement(g,y({},c,m),u)}var Ye=s.exports.forwardRef(function(r,t){var n=r.action,i=B(r,["action"]),u=n!=null?n:"#",d=Fe(),v=d.handleReset,m=d.handleSubmit;return s.exports.createElement("form",Object.assign({onSubmit:m,ref:t,onReset:v,action:u},i))});Ye.displayName="Form";export{tr as F,Ye as a,ir as b};
